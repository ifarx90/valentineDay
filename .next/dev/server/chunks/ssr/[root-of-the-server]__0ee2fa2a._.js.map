{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/pc/Desktop/Valentine-Days-main/components/DomeGallery.tsx"],"sourcesContent":["import { useEffect, useMemo, useRef, useCallback } from \"react\";\nimport { useGesture } from \"@use-gesture/react\";\n\ntype ImageItem = string | { src: string; alt?: string };\n\ntype DomeGalleryProps = {\n  images?: ImageItem[];\n  fit?: number;\n  fitBasis?: \"auto\" | \"min\" | \"max\" | \"width\" | \"height\";\n  minRadius?: number;\n  maxRadius?: number;\n  padFactor?: number;\n  overlayBlurColor?: string;\n  maxVerticalRotationDeg?: number;\n  dragSensitivity?: number;\n  enlargeTransitionMs?: number;\n  segments?: number;\n  dragDampening?: number;\n  openedImageWidth?: string;\n  openedImageHeight?: string;\n  imageBorderRadius?: string;\n  openedImageBorderRadius?: string;\n  grayscale?: boolean;\n  autoRotationSpeed?: number;\n};\n\ntype ItemDef = {\n  src: string;\n  alt: string;\n  x: number;\n  y: number;\n  sizeX: number;\n  sizeY: number;\n};\n\nconst DEFAULT_IMAGES: ImageItem[] = [\n  {\n    src: \"https://images.unsplash.com/photo-1755331039789-7e5680e26e8f?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D\",\n    alt: \"Abstract art\",\n  },\n  {\n    src: \"https://images.unsplash.com/photo-1755569309049-98410b94f66d?q=80&w=772&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D\",\n    alt: \"Modern sculpture\",\n  },\n  {\n    src: \"https://images.unsplash.com/photo-1755497595318-7e5e3523854f?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D\",\n    alt: \"Digital artwork\",\n  },\n  {\n    src: \"https://images.unsplash.com/photo-1755353985163-c2a0fe5ac3d8?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D\",\n    alt: \"Contemporary art\",\n  },\n  {\n    src: \"https://images.unsplash.com/photo-1745965976680-d00be7dc0377?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D\",\n    alt: \"Geometric pattern\",\n  },\n  {\n    src: \"https://images.unsplash.com/photo-1752588975228-21f44630bb3c?q=80&w=774&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D\",\n    alt: \"Textured surface\",\n  },\n  {\n    src: \"https://pbs.twimg.com/media/Gyla7NnXMAAXSo_?format=jpg&name=large\",\n    alt: \"Social media image\",\n  },\n];\n\nconst DEFAULTS = {\n  maxVerticalRotationDeg: 5,\n  dragSensitivity: 20,\n  enlargeTransitionMs: 300,\n  segments: 35,\n};\n\nconst clamp = (v: number, min: number, max: number) => Math.min(Math.max(v, min), max);\nconst normalizeAngle = (d: number) => ((d % 360) + 360) % 360;\nconst wrapAngleSigned = (deg: number) => {\n  const a = (((deg + 180) % 360) + 360) % 360;\n  return a - 180;\n};\nconst getDataNumber = (el: HTMLElement, name: string, fallback: number) => {\n  const attr = el.dataset[name] ?? el.getAttribute(`data-${name}`);\n  const n = attr == null ? NaN : parseFloat(attr);\n  return Number.isFinite(n) ? n : fallback;\n};\n\nfunction buildItems(pool: ImageItem[], seg: number): ItemDef[] {\n  const xCols = Array.from({ length: seg }, (_, i) => -37 + i * 2);\n  const evenYs = [-4, -2, 0, 2, 4];\n  const oddYs = [-3, -1, 1, 3, 5];\n\n  const coords = xCols.flatMap((x, c) => {\n    const ys = c % 2 === 0 ? evenYs : oddYs;\n    return ys.map((y) => ({ x, y, sizeX: 2, sizeY: 2 }));\n  });\n\n  const totalSlots = coords.length;\n  if (pool.length === 0) {\n    return coords.map((c) => ({ ...c, src: \"\", alt: \"\" }));\n  }\n  if (pool.length > totalSlots) {\n    console.warn(`[DomeGallery] Provided image count (${pool.length}) exceeds available tiles (${totalSlots}). Some images will not be shown.`);\n  }\n\n  const normalizedImages = pool.map((image) => {\n    if (typeof image === \"string\") {\n      return { src: image, alt: \"\" };\n    }\n    return { src: image.src || \"\", alt: image.alt || \"\" };\n  });\n\n  const usedImages = Array.from({ length: totalSlots }, (_, i) => normalizedImages[i % normalizedImages.length]);\n\n  for (let i = 1; i < usedImages.length; i++) {\n    if (usedImages[i].src === usedImages[i - 1].src) {\n      for (let j = i + 1; j < usedImages.length; j++) {\n        if (usedImages[j].src !== usedImages[i].src) {\n          const tmp = usedImages[i];\n          usedImages[i] = usedImages[j];\n          usedImages[j] = tmp;\n          break;\n        }\n      }\n    }\n  }\n\n  return coords.map((c, i) => ({\n    ...c,\n    src: usedImages[i].src,\n    alt: usedImages[i].alt,\n  }));\n}\n\nfunction computeItemBaseRotation(offsetX: number, offsetY: number, sizeX: number, sizeY: number, segments: number) {\n  const unit = 360 / segments / 2;\n  const rotateY = unit * (offsetX + (sizeX - 1) / 2);\n  const rotateX = unit * (offsetY - (sizeY - 1) / 2);\n  return { rotateX, rotateY };\n}\n\nexport default function DomeGallery({\n  images = DEFAULT_IMAGES,\n  fit = 0.5,\n  fitBasis = \"auto\",\n  minRadius = 600,\n  maxRadius = Infinity,\n  padFactor = 0.25,\n  overlayBlurColor = \"#060010\",\n  maxVerticalRotationDeg = DEFAULTS.maxVerticalRotationDeg,\n  dragSensitivity = DEFAULTS.dragSensitivity,\n  enlargeTransitionMs = DEFAULTS.enlargeTransitionMs,\n  segments = DEFAULTS.segments,\n  dragDampening = 2,\n  openedImageWidth = \"400px\",\n  openedImageHeight = \"400px\",\n  imageBorderRadius = \"30px\",\n  openedImageBorderRadius = \"30px\",\n  grayscale = true,\n  autoRotationSpeed = 0.1,\n}: DomeGalleryProps) {\n  const rootRef = useRef<HTMLDivElement>(null);\n  const mainRef = useRef<HTMLDivElement>(null);\n  const sphereRef = useRef<HTMLDivElement>(null);\n  const frameRef = useRef<HTMLDivElement>(null);\n  const viewerRef = useRef<HTMLDivElement>(null);\n  const scrimRef = useRef<HTMLDivElement>(null);\n  const focusedElRef = useRef<HTMLElement | null>(null);\n  const originalTilePositionRef = useRef<{\n    left: number;\n    top: number;\n    width: number;\n    height: number;\n  } | null>(null);\n\n  const rotationRef = useRef({ x: 0, y: 0 });\n  const startRotRef = useRef({ x: 0, y: 0 });\n  const startPosRef = useRef<{ x: number; y: number } | null>(null);\n  const draggingRef = useRef(false);\n  const cancelTapRef = useRef(false);\n  const movedRef = useRef(false);\n  const inertiaRAF = useRef<number | null>(null);\n  const pointerTypeRef = useRef<\"mouse\" | \"pen\" | \"touch\">(\"mouse\");\n  const tapTargetRef = useRef<HTMLElement | null>(null);\n  const openingRef = useRef(false);\n  const openStartedAtRef = useRef(0);\n  const lastDragEndAt = useRef(0);\n\n  const scrollLockedRef = useRef(false);\n  const lockScroll = useCallback(() => {\n    if (scrollLockedRef.current) return;\n    scrollLockedRef.current = true;\n    document.body.classList.add(\"dg-scroll-lock\");\n  }, []);\n  const unlockScroll = useCallback(() => {\n    if (!scrollLockedRef.current) return;\n    if (rootRef.current?.getAttribute(\"data-enlarging\") === \"true\") return;\n    scrollLockedRef.current = false;\n    document.body.classList.remove(\"dg-scroll-lock\");\n  }, []);\n\n  const items = useMemo(() => buildItems(images, segments), [images, segments]);\n\n  const applyTransform = (xDeg: number, yDeg: number) => {\n    const el = sphereRef.current;\n    if (el) {\n      el.style.transform = `translateZ(calc(var(--radius) * -1)) rotateX(${xDeg}deg) rotateY(${yDeg}deg)`;\n    }\n  };\n\n  const lockedRadiusRef = useRef<number | null>(null);\n\n  useEffect(() => {\n    const root = rootRef.current;\n    if (!root) return;\n    const ro = new ResizeObserver((entries) => {\n      const cr = entries[0].contentRect;\n      const w = Math.max(1, cr.width),\n        h = Math.max(1, cr.height);\n      const minDim = Math.min(w, h),\n        maxDim = Math.max(w, h),\n        aspect = w / h;\n      let basis: number;\n      switch (fitBasis) {\n        case \"min\":\n          basis = minDim;\n          break;\n        case \"max\":\n          basis = maxDim;\n          break;\n        case \"width\":\n          basis = w;\n          break;\n        case \"height\":\n          basis = h;\n          break;\n        default:\n          basis = aspect >= 1.3 ? w : minDim;\n      }\n      let radius = basis * fit;\n      const heightGuard = h * 1.35;\n      radius = Math.min(radius, heightGuard);\n      radius = clamp(radius, minRadius, maxRadius);\n      lockedRadiusRef.current = Math.round(radius);\n\n      const viewerPad = Math.max(8, Math.round(minDim * padFactor));\n      root.style.setProperty(\"--radius\", `${lockedRadiusRef.current}px`);\n      root.style.setProperty(\"--viewer-pad\", `${viewerPad}px`);\n      root.style.setProperty(\"--overlay-blur-color\", overlayBlurColor);\n      root.style.setProperty(\"--tile-radius\", imageBorderRadius);\n      root.style.setProperty(\"--enlarge-radius\", openedImageBorderRadius);\n      root.style.setProperty(\"--image-filter\", grayscale ? \"grayscale(1)\" : \"none\");\n      applyTransform(rotationRef.current.x, rotationRef.current.y);\n\n      const enlargedOverlay = viewerRef.current?.querySelector(\".enlarge\") as HTMLElement;\n      if (enlargedOverlay && frameRef.current && mainRef.current) {\n        const frameR = frameRef.current.getBoundingClientRect();\n        const mainR = mainRef.current.getBoundingClientRect();\n\n        const hasCustomSize = openedImageWidth && openedImageHeight;\n        if (hasCustomSize) {\n          const tempDiv = document.createElement(\"div\");\n          tempDiv.style.cssText = `position: absolute; width: ${openedImageWidth}; height: ${openedImageHeight}; visibility: hidden;`;\n          document.body.appendChild(tempDiv);\n          const tempRect = tempDiv.getBoundingClientRect();\n          document.body.removeChild(tempDiv);\n\n          const centeredLeft = frameR.left - mainR.left + (frameR.width - tempRect.width) / 2;\n          const centeredTop = frameR.top - mainR.top + (frameR.height - tempRect.height) / 2;\n\n          enlargedOverlay.style.left = `${centeredLeft}px`;\n          enlargedOverlay.style.top = `${centeredTop}px`;\n        } else {\n          enlargedOverlay.style.left = `${frameR.left - mainR.left}px`;\n          enlargedOverlay.style.top = `${frameR.top - mainR.top}px`;\n          enlargedOverlay.style.width = `${frameR.width}px`;\n          enlargedOverlay.style.height = `${frameR.height}px`;\n        }\n      }\n    });\n    ro.observe(root);\n    return () => ro.disconnect();\n  }, [fit, fitBasis, minRadius, maxRadius, padFactor, overlayBlurColor, grayscale, imageBorderRadius, openedImageBorderRadius, openedImageWidth, openedImageHeight]);\n\n  useEffect(() => {\n    applyTransform(rotationRef.current.x, rotationRef.current.y);\n  }, [applyTransform]);\n\n  useEffect(() => {\n    if (autoRotationSpeed === 0) return;\n\n    let rafId: number;\n    const rotate = () => {\n      // Don't rotate if dragging or if an image is opened\n      if (!draggingRef.current && !focusedElRef.current && !openingRef.current) {\n        rotationRef.current.y = wrapAngleSigned(rotationRef.current.y + autoRotationSpeed);\n        applyTransform(rotationRef.current.x, rotationRef.current.y);\n      }\n      rafId = requestAnimationFrame(rotate);\n    };\n\n    rafId = requestAnimationFrame(rotate);\n    return () => cancelAnimationFrame(rafId);\n  }, [autoRotationSpeed, applyTransform]);\n\n  const stopInertia = useCallback(() => {\n    if (inertiaRAF.current) {\n      cancelAnimationFrame(inertiaRAF.current);\n      inertiaRAF.current = null;\n    }\n  }, []);\n\n  const startInertia = useCallback(\n    (vx: number, vy: number) => {\n      const MAX_V = 1.4;\n      let vX = clamp(vx, -MAX_V, MAX_V) * 80;\n      let vY = clamp(vy, -MAX_V, MAX_V) * 80;\n      let frames = 0;\n      const d = clamp(dragDampening ?? 0.6, 0, 1);\n      const frictionMul = 0.94 + 0.055 * d;\n      const stopThreshold = 0.015 - 0.01 * d;\n      const maxFrames = Math.round(90 + 270 * d);\n      const step = () => {\n        vX *= frictionMul;\n        vY *= frictionMul;\n        if (Math.abs(vX) < stopThreshold && Math.abs(vY) < stopThreshold) {\n          inertiaRAF.current = null;\n          return;\n        }\n        if (++frames > maxFrames) {\n          inertiaRAF.current = null;\n          return;\n        }\n        const nextX = clamp(rotationRef.current.x - vY / 200, -maxVerticalRotationDeg, maxVerticalRotationDeg);\n        const nextY = wrapAngleSigned(rotationRef.current.y + vX / 200);\n        rotationRef.current = { x: nextX, y: nextY };\n        applyTransform(nextX, nextY);\n        inertiaRAF.current = requestAnimationFrame(step);\n      };\n      stopInertia();\n      inertiaRAF.current = requestAnimationFrame(step);\n    },\n    [dragDampening, maxVerticalRotationDeg, stopInertia],\n  );\n\n  useGesture(\n    {\n      onDragStart: ({ event }) => {\n        if (focusedElRef.current) return;\n        stopInertia();\n\n        const evt = event as PointerEvent;\n        pointerTypeRef.current = (evt.pointerType as any) || \"mouse\";\n        if (pointerTypeRef.current === \"touch\") evt.preventDefault();\n        if (pointerTypeRef.current === \"touch\") lockScroll();\n        draggingRef.current = true;\n        cancelTapRef.current = false;\n        movedRef.current = false;\n        startRotRef.current = { ...rotationRef.current };\n        startPosRef.current = { x: evt.clientX, y: evt.clientY };\n        const potential = (evt.target as Element).closest?.(\".item__image\") as HTMLElement | null;\n        tapTargetRef.current = potential || null;\n      },\n      onDrag: ({ event, last, velocity: velArr = [0, 0], direction: dirArr = [0, 0], movement }) => {\n        if (focusedElRef.current || !draggingRef.current || !startPosRef.current) return;\n\n        const evt = event as PointerEvent;\n        if (pointerTypeRef.current === \"touch\") evt.preventDefault();\n\n        const dxTotal = evt.clientX - startPosRef.current.x;\n        const dyTotal = evt.clientY - startPosRef.current.y;\n\n        if (!movedRef.current) {\n          const dist2 = dxTotal * dxTotal + dyTotal * dyTotal;\n          if (dist2 > 16) movedRef.current = true;\n        }\n\n        const nextX = clamp(startRotRef.current.x - dyTotal / dragSensitivity, -maxVerticalRotationDeg, maxVerticalRotationDeg);\n        const nextY = startRotRef.current.y + dxTotal / dragSensitivity;\n\n        const cur = rotationRef.current;\n        if (cur.x !== nextX || cur.y !== nextY) {\n          rotationRef.current = { x: nextX, y: nextY };\n          applyTransform(nextX, nextY);\n        }\n\n        if (last) {\n          draggingRef.current = false;\n          let isTap = false;\n\n          if (startPosRef.current) {\n            const dx = evt.clientX - startPosRef.current.x;\n            const dy = evt.clientY - startPosRef.current.y;\n            const dist2 = dx * dx + dy * dy;\n            const TAP_THRESH_PX = pointerTypeRef.current === \"touch\" ? 10 : 6;\n            if (dist2 <= TAP_THRESH_PX * TAP_THRESH_PX) {\n              isTap = true;\n            }\n          }\n\n          let [vMagX, vMagY] = velArr;\n          const [dirX, dirY] = dirArr;\n          let vx = vMagX * dirX;\n          let vy = vMagY * dirY;\n\n          if (!isTap && Math.abs(vx) < 0.001 && Math.abs(vy) < 0.001 && Array.isArray(movement)) {\n            const [mx, my] = movement;\n            vx = (mx / dragSensitivity) * 0.02;\n            vy = (my / dragSensitivity) * 0.02;\n          }\n\n          if (!isTap && (Math.abs(vx) > 0.005 || Math.abs(vy) > 0.005)) {\n            startInertia(vx, vy);\n          }\n          startPosRef.current = null;\n          cancelTapRef.current = !isTap;\n\n          if (isTap && tapTargetRef.current && !focusedElRef.current) {\n            openItemFromElement(tapTargetRef.current);\n          }\n          tapTargetRef.current = null;\n\n          if (cancelTapRef.current) setTimeout(() => (cancelTapRef.current = false), 120);\n          if (pointerTypeRef.current === \"touch\") unlockScroll();\n          if (movedRef.current) lastDragEndAt.current = performance.now();\n          movedRef.current = false;\n        }\n      },\n    },\n    { target: mainRef, eventOptions: { passive: false } },\n  );\n\n  useEffect(() => {\n    const scrim = scrimRef.current;\n    if (!scrim) return;\n\n    const close = () => {\n      if (performance.now() - openStartedAtRef.current < 250) return;\n      const el = focusedElRef.current;\n      if (!el) return;\n      const parent = el.parentElement as HTMLElement;\n      const overlay = viewerRef.current?.querySelector(\".enlarge\") as HTMLElement | null;\n      if (!overlay) return;\n\n      const refDiv = parent.querySelector(\".item__image--reference\") as HTMLElement | null;\n\n      const originalPos = originalTilePositionRef.current;\n      if (!originalPos) {\n        overlay.remove();\n        if (refDiv) refDiv.remove();\n        parent.style.setProperty(\"--rot-y-delta\", `0deg`);\n        parent.style.setProperty(\"--rot-x-delta\", `0deg`);\n        el.style.visibility = \"\";\n        (el.style as any).zIndex = 0;\n        focusedElRef.current = null;\n        rootRef.current?.removeAttribute(\"data-enlarging\");\n        openingRef.current = false;\n        viewerRef.current?.querySelectorAll(\".romantic-label\").forEach((el) => el.remove());\n        return;\n      }\n\n      const currentRect = overlay.getBoundingClientRect();\n      const rootRect = rootRef.current!.getBoundingClientRect();\n\n      const originalPosRelativeToRoot = {\n        left: originalPos.left - rootRect.left,\n        top: originalPos.top - rootRect.top,\n        width: originalPos.width,\n        height: originalPos.height,\n      };\n\n      const overlayRelativeToRoot = {\n        left: currentRect.left - rootRect.left,\n        top: currentRect.top - rootRect.top,\n        width: currentRect.width,\n        height: currentRect.height,\n      };\n\n      const animatingOverlay = document.createElement(\"div\");\n      animatingOverlay.className = \"enlarge-closing\";\n      animatingOverlay.style.cssText = `\n        position: absolute;\n        left: ${overlayRelativeToRoot.left}px;\n        top: ${overlayRelativeToRoot.top}px;\n        width: ${overlayRelativeToRoot.width}px;\n        height: ${overlayRelativeToRoot.height}px;\n        z-index: 9999;\n        border-radius: ${openedImageBorderRadius};\n        overflow: hidden;\n        box-shadow: 0 10px 30px rgba(0,0,0,.35);\n        transition: all ${enlargeTransitionMs}ms ease-out;\n        pointer-events: none;\n        margin: 0;\n        transform: none;\n        filter: ${grayscale ? \"grayscale(1)\" : \"none\"};\n      `;\n\n      const originalImg = overlay.querySelector(\"img\");\n      if (originalImg) {\n        const img = originalImg.cloneNode() as HTMLImageElement;\n        img.style.cssText = \"width: 100%; height: 100%; object-fit: cover;\";\n        animatingOverlay.appendChild(img);\n      }\n\n      overlay.remove();\n      viewerRef.current?.querySelectorAll(\".romantic-label\").forEach((label) => {\n        (label as HTMLElement).style.opacity = \"0\";\n        const isMobile = window.innerWidth <= 768;\n        if (isMobile) {\n          (label as HTMLElement).style.transform = (label as HTMLElement).classList.contains(\"label-left\") ? \"translateY(-20px)\" : \"translateY(20px)\";\n        } else {\n          (label as HTMLElement).style.transform = (label as HTMLElement).classList.contains(\"label-left\") ? \"translateX(-20px)\" : \"translateX(20px)\";\n        }\n        setTimeout(() => label.remove(), enlargeTransitionMs);\n      });\n      rootRef.current!.appendChild(animatingOverlay);\n\n      void animatingOverlay.getBoundingClientRect();\n\n      requestAnimationFrame(() => {\n        animatingOverlay.style.left = originalPosRelativeToRoot.left + \"px\";\n        animatingOverlay.style.top = originalPosRelativeToRoot.top + \"px\";\n        animatingOverlay.style.width = originalPosRelativeToRoot.width + \"px\";\n        animatingOverlay.style.height = originalPosRelativeToRoot.height + \"px\";\n        animatingOverlay.style.opacity = \"0\";\n      });\n\n      const cleanup = () => {\n        animatingOverlay.remove();\n        originalTilePositionRef.current = null;\n\n        if (refDiv) refDiv.remove();\n        parent.style.transition = \"none\";\n        el.style.transition = \"none\";\n\n        parent.style.setProperty(\"--rot-y-delta\", `0deg`);\n        parent.style.setProperty(\"--rot-x-delta\", `0deg`);\n\n        requestAnimationFrame(() => {\n          el.style.visibility = \"\";\n          el.style.opacity = \"0\";\n          (el.style as any).zIndex = 0;\n          focusedElRef.current = null;\n          rootRef.current?.removeAttribute(\"data-enlarging\");\n\n          requestAnimationFrame(() => {\n            parent.style.transition = \"\";\n            el.style.transition = \"opacity 300ms ease-out\";\n\n            requestAnimationFrame(() => {\n              el.style.opacity = \"1\";\n              setTimeout(() => {\n                el.style.transition = \"\";\n                el.style.opacity = \"\";\n                openingRef.current = false;\n                if (!draggingRef.current && rootRef.current?.getAttribute(\"data-enlarging\") !== \"true\") {\n                  document.body.classList.remove(\"dg-scroll-lock\");\n                }\n              }, 300);\n            });\n          });\n        });\n      };\n\n      animatingOverlay.addEventListener(\"transitionend\", cleanup, {\n        once: true,\n      });\n    };\n\n    scrim.addEventListener(\"click\", close);\n    const onKey = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") close();\n    };\n    window.addEventListener(\"keydown\", onKey);\n\n    return () => {\n      scrim.removeEventListener(\"click\", close);\n      window.removeEventListener(\"keydown\", onKey);\n    };\n  }, [enlargeTransitionMs, openedImageBorderRadius, grayscale]);\n\n  const openItemFromElement = (el: HTMLElement) => {\n    if (openingRef.current) return;\n    openingRef.current = true;\n    openStartedAtRef.current = performance.now();\n    lockScroll();\n    const parent = el.parentElement as HTMLElement;\n    focusedElRef.current = el;\n    el.setAttribute(\"data-focused\", \"true\");\n    const offsetX = getDataNumber(parent, \"offsetX\", 0);\n    const offsetY = getDataNumber(parent, \"offsetY\", 0);\n    const sizeX = getDataNumber(parent, \"sizeX\", 2);\n    const sizeY = getDataNumber(parent, \"sizeY\", 2);\n    const parentRot = computeItemBaseRotation(offsetX, offsetY, sizeX, sizeY, segments);\n    const parentY = normalizeAngle(parentRot.rotateY);\n    const globalY = normalizeAngle(rotationRef.current.y);\n    let rotY = -(parentY + globalY) % 360;\n    if (rotY < -180) rotY += 360;\n    const rotX = -parentRot.rotateX - rotationRef.current.x;\n    parent.style.setProperty(\"--rot-y-delta\", `${rotY}deg`);\n    parent.style.setProperty(\"--rot-x-delta\", `${rotX}deg`);\n    const refDiv = document.createElement(\"div\");\n    refDiv.className = \"item__image item__image--reference opacity-0\";\n    refDiv.style.transform = `rotateX(${-parentRot.rotateX}deg) rotateY(${-parentRot.rotateY}deg)`;\n    parent.appendChild(refDiv);\n\n    void refDiv.offsetHeight;\n\n    const tileR = refDiv.getBoundingClientRect();\n    const mainR = mainRef.current?.getBoundingClientRect();\n    const frameR = frameRef.current?.getBoundingClientRect();\n\n    if (!mainR || !frameR || tileR.width <= 0 || tileR.height <= 0) {\n      openingRef.current = false;\n      focusedElRef.current = null;\n      parent.removeChild(refDiv);\n      unlockScroll();\n      return;\n    }\n\n    originalTilePositionRef.current = {\n      left: tileR.left,\n      top: tileR.top,\n      width: tileR.width,\n      height: tileR.height,\n    };\n    el.style.visibility = \"hidden\";\n    (el.style as any).zIndex = 0;\n    const overlay = document.createElement(\"div\");\n    overlay.className = \"enlarge\";\n    overlay.style.cssText = `position:absolute; left:${frameR.left - mainR.left}px; top:${frameR.top - mainR.top}px; width:${frameR.width}px; height:${frameR.height}px; opacity:0; z-index:30; will-change:transform,opacity; transform-origin:top left; transition:transform ${enlargeTransitionMs}ms ease, opacity ${enlargeTransitionMs}ms ease; border-radius:${openedImageBorderRadius}; overflow:hidden; box-shadow:0 10px 30px rgba(0,0,0,.35);`;\n    const rawSrc = parent.dataset.src || (el.querySelector(\"img\") as HTMLImageElement)?.src || \"\";\n    const rawAlt = parent.dataset.alt || (el.querySelector(\"img\") as HTMLImageElement)?.alt || \"\";\n    const img = document.createElement(\"img\");\n    img.src = rawSrc;\n    img.alt = rawAlt;\n    img.style.cssText = `width:100%; height:100%; object-fit:cover; filter:${grayscale ? \"grayscale(1)\" : \"none\"};`;\n    overlay.appendChild(img);\n    viewerRef.current!.appendChild(overlay);\n    const tx0 = tileR.left - frameR.left;\n    const ty0 = tileR.top - frameR.top;\n    const sx0 = tileR.width / frameR.width;\n    const sy0 = tileR.height / frameR.height;\n\n    const validSx0 = isFinite(sx0) && sx0 > 0 ? sx0 : 1;\n    const validSy0 = isFinite(sy0) && sy0 > 0 ? sy0 : 1;\n\n    overlay.style.transform = `translate(${tx0}px, ${ty0}px) scale(${validSx0}, ${validSy0})`;\n    setTimeout(() => {\n      if (!overlay.parentElement) return;\n      overlay.style.opacity = \"1\";\n      overlay.style.transform = \"translate(0px, 0px) scale(1, 1)\";\n      rootRef.current?.setAttribute(\"data-enlarging\", \"true\");\n    }, 16);\n    const wantsResize = openedImageWidth || openedImageHeight;\n    if (wantsResize) {\n      const onFirstEnd = (ev: TransitionEvent) => {\n        if (ev.propertyName !== \"transform\") return;\n        overlay.removeEventListener(\"transitionend\", onFirstEnd);\n        const prevTransition = overlay.style.transition;\n        overlay.style.transition = \"none\";\n        const tempWidth = openedImageWidth || `${frameR.width}px`;\n        const tempHeight = openedImageHeight || `${frameR.height}px`;\n        overlay.style.width = tempWidth;\n        overlay.style.height = tempHeight;\n        const newRect = overlay.getBoundingClientRect();\n        overlay.style.width = frameR.width + \"px\";\n        overlay.style.height = frameR.height + \"px\";\n        void overlay.offsetWidth;\n        overlay.style.transition = `left ${enlargeTransitionMs}ms ease, top ${enlargeTransitionMs}ms ease, width ${enlargeTransitionMs}ms ease, height ${enlargeTransitionMs}ms ease`;\n        const centeredLeft = frameR.left - mainR.left + (frameR.width - newRect.width) / 2;\n        const centeredTop = frameR.top - mainR.top + (frameR.height - newRect.height) / 2;\n        requestAnimationFrame(() => {\n          overlay.style.left = `${centeredLeft}px`;\n          overlay.style.top = `${centeredTop}px`;\n          overlay.style.width = tempWidth;\n          overlay.style.height = tempHeight;\n        });\n        const cleanupSecond = () => {\n          overlay.removeEventListener(\"transitionend\", cleanupSecond);\n          overlay.style.transition = prevTransition;\n        };\n        overlay.addEventListener(\"transitionend\", cleanupSecond, {\n          once: true,\n        });\n      };\n      overlay.addEventListener(\"transitionend\", onFirstEnd);\n    }\n\n    // Add romantic labels\n    const labelLeft = document.createElement(\"div\");\n    labelLeft.className = \"romantic-label label-left font-playfair\";\n    labelLeft.innerText = \"My\";\n\n    const labelRight = document.createElement(\"div\");\n    labelRight.className = \"romantic-label label-right font-playfair\";\n    labelRight.innerText = \"Everything\";\n\n    viewerRef.current?.appendChild(labelLeft);\n    viewerRef.current?.appendChild(labelRight);\n\n    const checkAndShowLabels = () => {\n      if (rootRef.current?.getAttribute(\"data-enlarging\") === \"true\") {\n        labelLeft.style.opacity = \"1\";\n        labelLeft.style.transform = \"translate(0, 0)\";\n        labelRight.style.opacity = \"1\";\n        labelRight.style.transform = \"translate(0, 0)\";\n      } else {\n        labelLeft.remove();\n        labelRight.remove();\n      }\n    };\n\n    setTimeout(checkAndShowLabels, enlargeTransitionMs);\n  };\n\n  useEffect(() => {\n    return () => {\n      document.body.classList.remove(\"dg-scroll-lock\");\n    };\n  }, []);\n\n  const cssStyles = `\n    .sphere-root {\n      --radius: 520px;\n      --viewer-pad: 72px;\n      --circ: calc(var(--radius) * 3.14);\n      --rot-y: calc((360deg / var(--segments-x)) / 2);\n      --rot-x: calc((360deg / var(--segments-y)) / 2);\n      --item-width: calc(var(--circ) / var(--segments-x));\n      --item-height: calc(var(--circ) / var(--segments-y));\n    }\n    \n    .sphere-root * { box-sizing: border-box; }\n    .sphere, .sphere-item, .item__image { transform-style: preserve-3d; }\n    \n    .stage {\n      width: 100%;\n      height: 100%;\n      display: grid;\n      place-items: center;\n      position: absolute;\n      inset: 0;\n      margin: auto;\n      perspective: calc(var(--radius) * 2);\n      perspective-origin: 50% 50%;\n    }\n    \n    .sphere {\n      transform: translateZ(calc(var(--radius) * -1));\n      will-change: transform;\n      position: absolute;\n    }\n    \n    .sphere-item {\n      width: calc(var(--item-width) * var(--item-size-x));\n      height: calc(var(--item-height) * var(--item-size-y));\n      position: absolute;\n      top: -999px;\n      bottom: -999px;\n      left: -999px;\n      right: -999px;\n      margin: auto;\n      transform-origin: 50% 50%;\n      backface-visibility: hidden;\n      transition: transform 300ms;\n      transform: rotateY(calc(var(--rot-y) * (var(--offset-x) + ((var(--item-size-x) - 1) / 2)) + var(--rot-y-delta, 0deg))) \n                 rotateX(calc(var(--rot-x) * (var(--offset-y) - ((var(--item-size-y) - 1) / 2)) + var(--rot-x-delta, 0deg))) \n                 translateZ(var(--radius));\n    }\n    \n    .sphere-root[data-enlarging=\"true\"] .scrim {\n      opacity: 1 !important;\n      pointer-events: all !important;\n    }\n    \n    @media (max-aspect-ratio: 1/1) {\n      .viewer-frame {\n        height: auto !important;\n        width: 100% !important;\n      }\n    }\n    \n    // body.dg-scroll-lock {\n    //   position: fixed !important;\n    //   top: 0;\n    //   left: 0;\n    //   width: 100% !important;\n    //   height: 100% !important;\n    //   overflow: hidden !important;\n    //   touch-action: none !important;\n    //   overscroll-behavior: contain !important;\n    // }\n    .item__image {\n      position: absolute;\n      inset: 10px;\n      border-radius: var(--tile-radius, 12px);\n      overflow: hidden;\n      cursor: pointer;\n      backface-visibility: hidden;\n      -webkit-backface-visibility: hidden;\n      transition: transform 300ms;\n      pointer-events: auto;\n      -webkit-transform: translateZ(0);\n      transform: translateZ(0);\n    }\n    .item__image--reference {\n      position: absolute;\n      inset: 10px;\n      pointer-events: none;\n    }\n\n    .romantic-label {\n      position: absolute;\n      top: 50%;\n      transform: translateY(-50%);\n      color: white;\n      font-size: 3rem;\n      opacity: 0;\n      transition: all 500ms ease-out;\n      z-index: 40;\n      pointer-events: none;\n      text-shadow: 0 0 20px rgba(255, 105, 180, 0.5);\n    }\n\n    .label-left {\n      left: 5%;\n      transform: translateY(-50%) translateX(-20px);\n    }\n\n    .label-right {\n      right: 5%;\n      transform: translateY(-50%) translateX(20px);\n    }\n\n    @media (max-width: 768px) {\n      .romantic-label {\n        font-size: 2.2rem;\n        left: 0;\n        right: 0;\n        text-align: center;\n        width: 100%;\n      }\n      .label-left {\n        top: 12%;\n        transform: translateY(-20px);\n      }\n      .label-right {\n        top: auto;\n        bottom: 12%;\n        transform: translateY(20px);\n      }\n    }\n  `;\n\n  return (\n    <>\n      <style dangerouslySetInnerHTML={{ __html: cssStyles }} />\n      <div\n        ref={rootRef}\n        className=\"sphere-root relative w-full h-full\"\n        style={\n          {\n            [\"--segments-x\" as any]: segments,\n            [\"--segments-y\" as any]: segments,\n            [\"--overlay-blur-color\" as any]: overlayBlurColor,\n            [\"--tile-radius\" as any]: imageBorderRadius,\n            [\"--enlarge-radius\" as any]: openedImageBorderRadius,\n            [\"--image-filter\" as any]: grayscale ? \"grayscale(1)\" : \"none\",\n          } as React.CSSProperties\n        }\n      >\n        <main\n          ref={mainRef}\n          className=\"absolute inset-0 grid place-items-center overflow-hidden select-none bg-transparent\"\n          style={{\n            touchAction: \"none\",\n            WebkitUserSelect: \"none\",\n          }}\n        >\n          <div className=\"stage\">\n            <div ref={sphereRef} className=\"sphere\">\n              {items.map((it, i) => (\n                <div\n                  key={`${it.x},${it.y},${i}`}\n                  className=\"sphere-item absolute m-auto\"\n                  data-src={it.src}\n                  data-alt={it.alt}\n                  data-offset-x={it.x}\n                  data-offset-y={it.y}\n                  data-size-x={it.sizeX}\n                  data-size-y={it.sizeY}\n                  style={\n                    {\n                      [\"--offset-x\" as any]: it.x,\n                      [\"--offset-y\" as any]: it.y,\n                      [\"--item-size-x\" as any]: it.sizeX,\n                      [\"--item-size-y\" as any]: it.sizeY,\n                      top: \"-999px\",\n                      bottom: \"-999px\",\n                      left: \"-999px\",\n                      right: \"-999px\",\n                    } as React.CSSProperties\n                  }\n                >\n                  <div\n                    className=\"item__image absolute block overflow-hidden cursor-pointer bg-gray-200 transition-transform duration-300\"\n                    role=\"button\"\n                    tabIndex={0}\n                    aria-label={it.alt || \"Open image\"}\n                    onClick={(e) => {\n                      if (draggingRef.current) return;\n                      if (movedRef.current) return;\n                      if (performance.now() - lastDragEndAt.current < 80) return;\n                      if (openingRef.current) return;\n                      openItemFromElement(e.currentTarget as HTMLElement);\n                    }}\n                    onPointerUp={(e) => {\n                      if ((e.nativeEvent as PointerEvent).pointerType !== \"touch\") return;\n                      if (draggingRef.current) return;\n                      if (movedRef.current) return;\n                      if (performance.now() - lastDragEndAt.current < 80) return;\n                      if (openingRef.current) return;\n                      openItemFromElement(e.currentTarget as HTMLElement);\n                    }}\n                    style={{\n                      inset: \"10px\",\n                      borderRadius: `var(--tile-radius, ${imageBorderRadius})`,\n                      backfaceVisibility: \"hidden\",\n                    }}\n                  >\n                    <img\n                      src={it.src}\n                      draggable={false}\n                      alt={it.alt}\n                      className=\"w-full h-full object-cover pointer-events-none\"\n                      style={{\n                        backfaceVisibility: \"hidden\",\n                        filter: `var(--image-filter, ${grayscale ? \"grayscale(1)\" : \"none\"})`,\n                      }}\n                    />\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <div\n            className=\"absolute inset-0 m-auto z-[3] pointer-events-none\"\n            style={{\n              backgroundImage: `radial-gradient(rgba(235, 235, 235, 0) 65%, var(--overlay-blur-color, ${overlayBlurColor}) 100%)`,\n            }}\n          />\n\n          <div\n            className=\"absolute inset-0 m-auto z-[3] pointer-events-none\"\n            style={{\n              WebkitMaskImage: `radial-gradient(rgba(235, 235, 235, 0) 70%, var(--overlay-blur-color, ${overlayBlurColor}) 90%)`,\n              maskImage: `radial-gradient(rgba(235, 235, 235, 0) 70%, var(--overlay-blur-color, ${overlayBlurColor}) 90%)`,\n              backdropFilter: \"blur(3px)\",\n            }}\n          />\n\n          <div\n            className=\"absolute left-0 right-0 top-0 h-[120px] z-[5] pointer-events-none rotate-180\"\n            style={{\n              background: `linear-gradient(to bottom, transparent, var(--overlay-blur-color, ${overlayBlurColor}))`,\n            }}\n          />\n          <div\n            className=\"absolute left-0 right-0 bottom-0 h-[120px] z-[5] pointer-events-none\"\n            style={{\n              background: `linear-gradient(to bottom, transparent, var(--overlay-blur-color, ${overlayBlurColor}))`,\n            }}\n          />\n\n          <div ref={viewerRef} className=\"absolute inset-0 z-20 pointer-events-none flex items-center justify-center\" style={{ padding: \"var(--viewer-pad)\" }}>\n            <div\n              ref={scrimRef}\n              className=\"scrim absolute inset-0 z-10 pointer-events-none opacity-0 transition-opacity duration-500\"\n              style={{\n                background: \"rgba(0, 0, 0, 0.4)\",\n                backdropFilter: \"blur(3px)\",\n              }}\n            />\n            <div\n              ref={frameRef}\n              className=\"viewer-frame h-full aspect-square flex\"\n              style={{\n                borderRadius: `var(--enlarge-radius, ${openedImageBorderRadius})`,\n              }}\n            />\n          </div>\n        </main>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1025, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/pc/Desktop/Valentine-Days-main/components/InteractionFlow.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Heart, X, Circle, Sparkles } from \"lucide-react\";\n\n// --- Background Particles ---\nconst BackgroundHearts = () => {\n  const [mounted, setMounted] = useState(false);\n  useEffect(() => setMounted(true), []);\n\n  if (!mounted) return null;\n\n  return (\n    <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n      {[...Array(10)].map(\n        (\n          _,\n          i, // Reduced to 10 for better performance\n        ) => (\n          <motion.div\n            key={i}\n            initial={{\n              opacity: 0,\n              y: \"110vh\",\n              x: `${i * 10 + Math.random() * 5}%`, // More deterministic distribution\n              scale: 0.5,\n            }}\n            animate={{\n              opacity: [0, 0.2, 0],\n              y: \"-10vh\",\n              rotate: [0, 180],\n              scale: [0.5, 0.8, 0.5],\n            }}\n            transition={{\n              duration: 15 + Math.random() * 10,\n              repeat: Infinity,\n              delay: i * 2,\n              ease: \"linear\",\n            }}\n            className=\"absolute text-red-500/10\"\n          >\n            <Heart size={30} fill=\"currentColor\" />\n          </motion.div>\n        ),\n      )}\n    </div>\n  );\n};\n\n// --- Step 1: Love Mode ---\nconst LoveModeStep = ({ onComplete }: { onComplete: () => void }) => {\n  const [isOn, setIsOn] = useState(false);\n\n  useEffect(() => {\n    if (isOn) {\n      const timer = setTimeout(() => onComplete(), 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [isOn, onComplete]);\n\n  return (\n    <motion.div initial={{ opacity: 0, scale: 0.95 }} animate={{ opacity: 1, scale: 1 }} exit={{ opacity: 0, scale: 1.05, filter: \"blur(10px)\" }} className=\"flex flex-col items-center justify-center relative z-10\">\n      <div\n        className={`backdrop-blur-2xl p-12 rounded-[3rem] transition-all duration-1000 ease-in-out flex flex-col items-center space-y-10 border border-white/10 ${isOn ? \"bg-red-500/10 shadow-[0_0_80px_rgba(239,68,68,0.2)] border-red-500/20\" : \"bg-white/5 shadow-2xl\"}`}\n      >\n        <div className=\"relative\">\n          <motion.div\n            animate={\n              isOn\n                ? {\n                    scale: [1, 1.15, 1],\n                    filter: [\"drop-shadow(0 0 0px rgba(239,68,68,0))\", \"drop-shadow(0 0 20px rgba(239,68,68,0.6))\", \"drop-shadow(0 0 0px rgba(239,68,68,0))\"],\n                  }\n                : {}\n            }\n            transition={{ repeat: Infinity, duration: 2, ease: \"easeInOut\" }}\n          >\n            <Heart className={`w-24 h-24 transition-all duration-1000 ${isOn ? \"text-red-500 fill-red-500\" : \"text-white/10\"}`} />\n          </motion.div>\n        </div>\n\n        <div className=\"flex flex-col items-center space-y-6\">\n          <span className={`text-5xl font-playfair transition-colors duration-1000 ${isOn ? \"text-white\" : \"text-white/40\"}`}>Love mode</span>\n\n          <button\n            onClick={() => setIsOn(!isOn)}\n            className={`group relative w-32 h-16 rounded-full transition-all duration-700 ease-[cubic-bezier(0.23,1,0.32,1)] p-1.5 focus:outline-none ${isOn ? \"bg-red-500 shadow-[0_0_30px_rgba(239,68,68,0.5)]\" : \"bg-white/10\"}`}\n          >\n            <motion.div\n              animate={{ x: isOn ? 64 : 0 }}\n              transition={{ type: \"spring\", stiffness: 400, damping: 30 }}\n              className=\"w-13 h-13 bg-white rounded-full shadow-[0_4px_10px_rgba(0,0,0,0.2)] flex items-center justify-center pointer-events-none\"\n            >\n              <Heart size={24} className={`transition-colors duration-500 ${isOn ? \"text-red-500 fill-red-500\" : \"text-gray-300\"}`} />\n            </motion.div>\n\n            <AnimatePresence>\n              {!isOn && (\n                <motion.span initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"absolute right-6 top-1/2 -translate-y-1/2 text-[10px] font-bold uppercase tracking-[0.2em] text-white/30\">\n                  off\n                </motion.span>\n              )}\n              {isOn && (\n                <motion.span initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"absolute left-6 top-1/2 -translate-y-1/2 text-[10px] font-bold uppercase tracking-[0.2em] text-white/80\">\n                  on\n                </motion.span>\n              )}\n            </AnimatePresence>\n          </button>\n        </div>\n      </div>\n    </motion.div>\n  );\n};\n\n// --- Step 2: Tic-Tac-Toe ---\nconst TicTacToeStep = ({ onComplete }: { onComplete: () => void }) => {\n  const [board, setBoard] = useState(Array(9).fill(null));\n  const [isUserTurn, setIsUserTurn] = useState(true);\n  const [winner, setWinner] = useState<string | null>(null);\n  const [message, setMessage] = useState(\"Let's play a little game...\");\n\n  const checkWinner = useCallback((squares: (string | null)[]) => {\n    const lines = [\n      [0, 1, 2],\n      [3, 4, 5],\n      [6, 7, 8],\n      [0, 3, 6],\n      [1, 4, 7],\n      [2, 5, 8],\n      [0, 4, 8],\n      [2, 4, 6],\n    ];\n    for (const [a, b, c] of lines) {\n      if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n        return squares[a];\n      }\n    }\n    return squares.includes(null) ? null : \"draw\";\n  }, []);\n\n  const makeAIMove = useCallback(\n    (currentBoard: (string | null)[]) => {\n      const emptyIndices = currentBoard.map((v, i) => (v === null ? i : null)).filter((v) => v !== null) as number[];\n      if (emptyIndices.length === 0) return;\n\n      // Extra Easy AI: Purposely avoid the center and pick random spots\n      const nonCenterIndices = emptyIndices.filter((i) => i !== 4);\n      const targetIndex = nonCenterIndices.length > 0 ? nonCenterIndices[Math.floor(Math.random() * nonCenterIndices.length)] : 4;\n\n      const newBoard = [...currentBoard];\n      newBoard[targetIndex] = \"O\";\n      setBoard(newBoard);\n\n      const result = checkWinner(newBoard);\n      if (result) {\n        setWinner(result);\n      } else {\n        setIsUserTurn(true);\n      }\n    },\n    [checkWinner],\n  );\n\n  const handleSquareClick = (index: number) => {\n    if (board[index] || winner || !isUserTurn) return;\n\n    const newBoard = [...board];\n    newBoard[index] = \"X\";\n    setBoard(newBoard);\n\n    const result = checkWinner(newBoard);\n    if (result) {\n      setWinner(result);\n    } else {\n      setIsUserTurn(false);\n      setTimeout(() => makeAIMove(newBoard), 600);\n    }\n  };\n\n  useEffect(() => {\n    if (winner === \"X\") {\n      setMessage(\"yeayy menang!!!\");\n      setTimeout(() => onComplete(), 3500); // Increased timeout to wait for staggered animation\n    } else if (winner === \"O\" || winner === \"draw\") {\n      setMessage(winner === \"draw\" ? \"Seri! Coba lagi yaa \" : \"Hampir! Sekali lagi...\");\n      setTimeout(() => {\n        setBoard(Array(9).fill(null));\n        setWinner(null);\n        setIsUserTurn(true);\n      }, 1500);\n    }\n  }, [winner, onComplete]);\n\n  return (\n    <motion.div initial={{ opacity: 0, y: 30 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, scale: 0.9 }} className=\"flex flex-col items-center justify-center space-y-10 relative z-10\">\n      <h2 className=\"text-4xl font-playfair text-white text-center drop-shadow-lg max-w-xs whitespace-pre-line leading-tight\">{winner === \"X\" ? \"yeayy menang!!!\" : message}</h2>\n      <div className=\"grid grid-cols-3 gap-3 p-4 bg-white/5 backdrop-blur-md rounded-3xl border border-white/10 shadow-2xl\">\n        {board.map((square, i) => (\n          <button key={i} onClick={() => handleSquareClick(i)} className=\"w-20 h-20 sm:w-24 sm:h-24 bg-white/10 rounded-2xl flex items-center justify-center border border-white/10 hover:bg-white/20 transition-all duration-300 group\">\n            <AnimatePresence mode=\"wait\">\n              {square === \"X\" ? (\n                <motion.div key={winner === \"X\" ? \"heart\" : \"x\"} initial={{ scale: 0 }} animate={{ scale: 1 }} transition={winner === \"X\" ? { delay: i * 0.15, type: \"spring\" } : {}}>\n                  {winner === \"X\" ? <Heart className=\"w-12 h-12 text-red-500 fill-red-500 filter drop-shadow-[0_0_10px_rgba(239,68,68,0.8)]\" /> : <X className=\"w-12 h-12 text-white/80\" />}\n                </motion.div>\n              ) : square === \"O\" ? (\n                <motion.div key=\"o\" initial={{ scale: 0 }} animate={{ scale: 1 }}>\n                  <Circle className=\"w-12 h-12 text-pink-300 opacity-50\" />\n                </motion.div>\n              ) : null}\n            </AnimatePresence>\n          </button>\n        ))}\n      </div>\n\n      <AnimatePresence>\n        {winner === \"X\" && (\n          <motion.h2 initial={{ opacity: 0, y: -10 }} animate={{ opacity: 1, y: 0 }} className=\"text-4xl font-playfair text-white text-center drop-shadow-lg mt-4\">\n            \n          </motion.h2>\n        )}\n      </AnimatePresence>\n    </motion.div>\n  );\n};\n\n// --- Step 3: Love Meter ---\nconst LoveMeterStep = ({ onComplete }: { onComplete: () => void }) => {\n  const [progress, setProgress] = useState(0);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setProgress((prev) => {\n        if (prev >= 100) {\n          clearInterval(interval);\n          setTimeout(() => onComplete(), 1500);\n          return 100;\n        }\n        return prev + 1;\n      });\n    }, 40);\n    return () => clearInterval(interval);\n  }, [onComplete]);\n\n  // SVG parameters for the semi-circle\n  const radius = 90;\n  const circumference = Math.PI * radius;\n  const dashOffset = circumference - (progress / 100) * circumference;\n\n  return (\n    <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"flex flex-col items-center justify-center space-y-12 w-full max-w-lg px-6 relative z-10\">\n      <div className=\"relative w-full aspect-[2/1] flex flex-col items-center justify-end overflow-hidden\">\n        {/* SVG Gauge */}\n        <svg viewBox=\"0 0 200 100\" className=\"w-full h-full absolute top-0 overflow-visible\">\n          {/* Background Path (Gray) */}\n          <path d=\"M 10,100 A 90,90 0 0 1 190,100\" fill=\"none\" stroke=\"rgba(255,255,255,0.05)\" strokeWidth=\"12\" strokeLinecap=\"round\" />\n          {/* Progress Path (Red) */}\n          <motion.path\n            d=\"M 10,100 A 90,90 0 0 1 190,100\"\n            fill=\"none\"\n            stroke=\"url(#loveGradient)\"\n            strokeWidth=\"12\"\n            strokeLinecap=\"round\"\n            strokeDasharray={circumference}\n            animate={{ strokeDashoffset: dashOffset }}\n            transition={{ duration: 0.1, ease: \"linear\" }}\n            style={{ filter: \"drop-shadow(0 0 8px rgba(239, 68, 68, 0.6))\" }}\n          />\n          <defs>\n            <linearGradient id=\"loveGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n              <stop offset=\"0%\" stopColor=\"#ef4444\" />\n              <stop offset=\"100%\" stopColor=\"#ec4899\" />\n            </linearGradient>\n          </defs>\n        </svg>\n\n        <div className=\"z-10 flex flex-col items-center pb-4\">\n          <motion.div animate={{ scale: [1, 1.1, 1] }} transition={{ repeat: Infinity, duration: 2 }}>\n            <Heart className=\"w-16 h-16 text-red-500 fill-red-500 mb-2\" />\n          </motion.div>\n          <div className=\"text-6xl font-black text-white font-mono tracking-tighter\">\n            {progress}\n            <span className=\"text-red-400 text-3xl\">%</span>\n          </div>\n          <span className=\"text-2xl text-white/60 font-playfair italic mt-2 tracking-widest\">Love Intensity</span>\n        </div>\n      </div>\n\n      {/* Progress Bar for consistency */}\n      <div className=\"w-full h-2 bg-white/10 rounded-full overflow-hidden border border-white/5\">\n        <motion.div className=\"h-full bg-gradient-to-r from-red-500 to-pink-500\" animate={{ width: `${progress}%` }} />\n      </div>\n    </motion.div>\n  );\n};\n\n// --- Step 4: Typewriter ---\nconst TypewriterStep = ({ onComplete }: { onComplete: () => void }) => {\n  const text = \"Happy Valentine Dindaa \";\n  const [displayedText, setDisplayedText] = useState(\"\");\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  useEffect(() => {\n    let timer: NodeJS.Timeout;\n    if (!isDeleting && displayedText !== text) {\n      timer = setTimeout(() => {\n        setDisplayedText(text.slice(0, displayedText.length + 1));\n      }, 150);\n    } else if (!isDeleting && displayedText === text) {\n      timer = setTimeout(() => setIsDeleting(true), 2500);\n    } else if (isDeleting && displayedText !== \"\") {\n      timer = setTimeout(() => {\n        setDisplayedText(text.slice(0, displayedText.length - 1));\n      }, 80);\n    } else if (isDeleting && displayedText === \"\") {\n      onComplete();\n    }\n    return () => clearTimeout(timer);\n  }, [displayedText, isDeleting, onComplete, text]);\n\n  return (\n    <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0, filter: \"blur(20px)\" }} className=\"flex items-center justify-center p-8 relative z-10\">\n      <h1 className=\"text-5xl sm:text-8xl font-playfair text-white text-center leading-tight\">\n        {displayedText}\n        <motion.span animate={{ opacity: [0, 1, 0] }} transition={{ repeat: Infinity, duration: 0.8 }} className=\"inline-block w-2 sm:w-4 h-12 sm:h-20 bg-red-500 ml-2 align-middle\" />\n      </h1>\n    </motion.div>\n  );\n};\n\nexport default function InteractionFlow({ onFlowComplete }: { onFlowComplete: () => void }) {\n  const [step, setStep] = useState(1);\n\n  return (\n    <div className=\"fixed inset-0 z-50 bg-[#060010] flex items-center justify-center overflow-hidden\">\n      {/* Visual background layers */}\n      <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(239,68,68,0.15)_0%,transparent_70%)]\" />\n      <div className=\"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10\" />\n\n      <BackgroundHearts />\n\n      <AnimatePresence mode=\"wait\">\n        {step === 1 && <LoveModeStep key=\"step1\" onComplete={() => setStep(2)} />}\n        {step === 2 && <TicTacToeStep key=\"step2\" onComplete={() => setStep(3)} />}\n        {step === 3 && <LoveMeterStep key=\"step3\" onComplete={() => setStep(4)} />}\n        {step === 4 && <TypewriterStep key=\"step4\" onComplete={() => onFlowComplete()} />}\n      </AnimatePresence>\n\n      {/* Corner Glows */}\n      <div className=\"absolute -top-24 -left-24 w-96 h-96 bg-red-900/20 blur-[100px] rounded-full\" />\n      <div className=\"absolute -bottom-24 -right-24 w-96 h-96 bg-pink-900/20 blur-[100px] rounded-full\" />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAJA;;;;;AAMA,+BAA+B;AAC/B,MAAM,mBAAmB;IACvB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,IAAA,kNAAS,EAAC,IAAM,WAAW,OAAO,EAAE;IAEpC,IAAI,CAAC,SAAS,OAAO;IAErB,qBACE,8OAAC;QAAI,WAAU;kBACZ;eAAI,MAAM;SAAI,CAAC,GAAG,CACjB,CACE,GACA,kBAEA,8OAAC,oMAAM,CAAC,GAAG;gBAET,SAAS;oBACP,SAAS;oBACT,GAAG;oBACH,GAAG,GAAG,IAAI,KAAK,KAAK,MAAM,KAAK,EAAE,CAAC,CAAC;oBACnC,OAAO;gBACT;gBACA,SAAS;oBACP,SAAS;wBAAC;wBAAG;wBAAK;qBAAE;oBACpB,GAAG;oBACH,QAAQ;wBAAC;wBAAG;qBAAI;oBAChB,OAAO;wBAAC;wBAAK;wBAAK;qBAAI;gBACxB;gBACA,YAAY;oBACV,UAAU,KAAK,KAAK,MAAM,KAAK;oBAC/B,QAAQ;oBACR,OAAO,IAAI;oBACX,MAAM;gBACR;gBACA,WAAU;0BAEV,cAAA,8OAAC,6MAAK;oBAAC,MAAM;oBAAI,MAAK;;;;;;eArBjB;;;;;;;;;;AA2BjB;AAEA,4BAA4B;AAC5B,MAAM,eAAe,CAAC,EAAE,UAAU,EAA8B;IAC9D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IAEjC,IAAA,kNAAS,EAAC;QACR,IAAI,MAAM;YACR,MAAM,QAAQ,WAAW,IAAM,cAAc;YAC7C,OAAO,IAAM,aAAa;QAC5B;IACF,GAAG;QAAC;QAAM;KAAW;IAErB,qBACE,8OAAC,oMAAM,CAAC,GAAG;QAAC,SAAS;YAAE,SAAS;YAAG,OAAO;QAAK;QAAG,SAAS;YAAE,SAAS;YAAG,OAAO;QAAE;QAAG,MAAM;YAAE,SAAS;YAAG,OAAO;YAAM,QAAQ;QAAa;QAAG,WAAU;kBACtJ,cAAA,8OAAC;YACC,WAAW,CAAC,4IAA4I,EAAE,OAAO,0EAA0E,yBAAyB;;8BAEpQ,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,oMAAM,CAAC,GAAG;wBACT,SACE,OACI;4BACE,OAAO;gCAAC;gCAAG;gCAAM;6BAAE;4BACnB,QAAQ;gCAAC;gCAA0C;gCAA6C;6BAAyC;wBAC3I,IACA,CAAC;wBAEP,YAAY;4BAAE,QAAQ;4BAAU,UAAU;4BAAG,MAAM;wBAAY;kCAE/D,cAAA,8OAAC,6MAAK;4BAAC,WAAW,CAAC,uCAAuC,EAAE,OAAO,8BAA8B,iBAAiB;;;;;;;;;;;;;;;;8BAItH,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAK,WAAW,CAAC,uDAAuD,EAAE,OAAO,eAAe,iBAAiB;sCAAE;;;;;;sCAEpH,8OAAC;4BACC,SAAS,IAAM,QAAQ,CAAC;4BACxB,WAAW,CAAC,8HAA8H,EAAE,OAAO,qDAAqD,eAAe;;8CAEvN,8OAAC,oMAAM,CAAC,GAAG;oCACT,SAAS;wCAAE,GAAG,OAAO,KAAK;oCAAE;oCAC5B,YAAY;wCAAE,MAAM;wCAAU,WAAW;wCAAK,SAAS;oCAAG;oCAC1D,WAAU;8CAEV,cAAA,8OAAC,6MAAK;wCAAC,MAAM;wCAAI,WAAW,CAAC,+BAA+B,EAAE,OAAO,8BAA8B,iBAAiB;;;;;;;;;;;8CAGtH,8OAAC,4MAAe;;wCACb,CAAC,sBACA,8OAAC,oMAAM,CAAC,IAAI;4CAAC,SAAS;gDAAE,SAAS;4CAAE;4CAAG,SAAS;gDAAE,SAAS;4CAAE;4CAAG,MAAM;gDAAE,SAAS;4CAAE;4CAAG,WAAU;sDAA2G;;;;;;wCAI3M,sBACC,8OAAC,oMAAM,CAAC,IAAI;4CAAC,SAAS;gDAAE,SAAS;4CAAE;4CAAG,SAAS;gDAAE,SAAS;4CAAE;4CAAG,MAAM;gDAAE,SAAS;4CAAE;4CAAG,WAAU;sDAA0G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUzN;AAEA,8BAA8B;AAC9B,MAAM,gBAAgB,CAAC,EAAE,UAAU,EAA8B;IAC/D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC,MAAM,GAAG,IAAI,CAAC;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAgB;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,cAAc,IAAA,oNAAW,EAAC,CAAC;QAC/B,MAAM,QAAQ;YACZ;gBAAC;gBAAG;gBAAG;aAAE;YACT;gBAAC;gBAAG;gBAAG;aAAE;YACT;gBAAC;gBAAG;gBAAG;aAAE;YACT;gBAAC;gBAAG;gBAAG;aAAE;YACT;gBAAC;gBAAG;gBAAG;aAAE;YACT;gBAAC;gBAAG;gBAAG;aAAE;YACT;gBAAC;gBAAG;gBAAG;aAAE;YACT;gBAAC;gBAAG;gBAAG;aAAE;SACV;QACD,KAAK,MAAM,CAAC,GAAG,GAAG,EAAE,IAAI,MAAO;YAC7B,IAAI,OAAO,CAAC,EAAE,IAAI,OAAO,CAAC,EAAE,KAAK,OAAO,CAAC,EAAE,IAAI,OAAO,CAAC,EAAE,KAAK,OAAO,CAAC,EAAE,EAAE;gBACxE,OAAO,OAAO,CAAC,EAAE;YACnB;QACF;QACA,OAAO,QAAQ,QAAQ,CAAC,QAAQ,OAAO;IACzC,GAAG,EAAE;IAEL,MAAM,aAAa,IAAA,oNAAW,EAC5B,CAAC;QACC,MAAM,eAAe,aAAa,GAAG,CAAC,CAAC,GAAG,IAAO,MAAM,OAAO,IAAI,MAAO,MAAM,CAAC,CAAC,IAAM,MAAM;QAC7F,IAAI,aAAa,MAAM,KAAK,GAAG;QAE/B,kEAAkE;QAClE,MAAM,mBAAmB,aAAa,MAAM,CAAC,CAAC,IAAM,MAAM;QAC1D,MAAM,cAAc,iBAAiB,MAAM,GAAG,IAAI,gBAAgB,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,iBAAiB,MAAM,EAAE,GAAG;QAE1H,MAAM,WAAW;eAAI;SAAa;QAClC,QAAQ,CAAC,YAAY,GAAG;QACxB,SAAS;QAET,MAAM,SAAS,YAAY;QAC3B,IAAI,QAAQ;YACV,UAAU;QACZ,OAAO;YACL,cAAc;QAChB;IACF,GACA;QAAC;KAAY;IAGf,MAAM,oBAAoB,CAAC;QACzB,IAAI,KAAK,CAAC,MAAM,IAAI,UAAU,CAAC,YAAY;QAE3C,MAAM,WAAW;eAAI;SAAM;QAC3B,QAAQ,CAAC,MAAM,GAAG;QAClB,SAAS;QAET,MAAM,SAAS,YAAY;QAC3B,IAAI,QAAQ;YACV,UAAU;QACZ,OAAO;YACL,cAAc;YACd,WAAW,IAAM,WAAW,WAAW;QACzC;IACF;IAEA,IAAA,kNAAS,EAAC;QACR,IAAI,WAAW,KAAK;YAClB,WAAW;YACX,WAAW,IAAM,cAAc,OAAO,oDAAoD;QAC5F,OAAO,IAAI,WAAW,OAAO,WAAW,QAAQ;YAC9C,WAAW,WAAW,SAAS,2BAA2B;YAC1D,WAAW;gBACT,SAAS,MAAM,GAAG,IAAI,CAAC;gBACvB,UAAU;gBACV,cAAc;YAChB,GAAG;QACL;IACF,GAAG;QAAC;QAAQ;KAAW;IAEvB,qBACE,8OAAC,oMAAM,CAAC,GAAG;QAAC,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAAG,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAAG,MAAM;YAAE,SAAS;YAAG,OAAO;QAAI;QAAG,WAAU;;0BACrH,8OAAC;gBAAG,WAAU;0BAA2G,WAAW,MAAM,oBAAoB;;;;;;0BAC9J,8OAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,QAAQ,kBAClB,8OAAC;wBAAe,SAAS,IAAM,kBAAkB;wBAAI,WAAU;kCAC7D,cAAA,8OAAC,4MAAe;4BAAC,MAAK;sCACnB,WAAW,oBACV,8OAAC,oMAAM,CAAC,GAAG;gCAAsC,SAAS;oCAAE,OAAO;gCAAE;gCAAG,SAAS;oCAAE,OAAO;gCAAE;gCAAG,YAAY,WAAW,MAAM;oCAAE,OAAO,IAAI;oCAAM,MAAM;gCAAS,IAAI,CAAC;0CAChK,WAAW,oBAAM,8OAAC,6MAAK;oCAAC,WAAU;;;;;6FAA6F,8OAAC,iMAAC;oCAAC,WAAU;;;;;;+BAD9H,WAAW,MAAM,UAAU;;;;2EAG1C,WAAW,oBACb,8OAAC,oMAAM,CAAC,GAAG;gCAAS,SAAS;oCAAE,OAAO;gCAAE;gCAAG,SAAS;oCAAE,OAAO;gCAAE;0CAC7D,cAAA,8OAAC,gNAAM;oCAAC,WAAU;;;;;;+BADJ;;;;2EAGd;;;;;;uBAVK;;;;;;;;;;0BAgBjB,8OAAC,4MAAe;0BACb,WAAW,qBACV,8OAAC,oMAAM,CAAC,EAAE;oBAAC,SAAS;wBAAE,SAAS;wBAAG,GAAG,CAAC;oBAAG;oBAAG,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAAG,WAAU;8BAAoE;;;;;;;;;;;;;;;;;AAOnK;AAEA,6BAA6B;AAC7B,MAAM,gBAAgB,CAAC,EAAE,UAAU,EAA8B;IAC/D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,IAAA,kNAAS,EAAC;QACR,MAAM,WAAW,YAAY;YAC3B,YAAY,CAAC;gBACX,IAAI,QAAQ,KAAK;oBACf,cAAc;oBACd,WAAW,IAAM,cAAc;oBAC/B,OAAO;gBACT;gBACA,OAAO,OAAO;YAChB;QACF,GAAG;QACH,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;KAAW;IAEf,qCAAqC;IACrC,MAAM,SAAS;IACf,MAAM,gBAAgB,KAAK,EAAE,GAAG;IAChC,MAAM,aAAa,gBAAgB,AAAC,WAAW,MAAO;IAEtD,qBACE,8OAAC,oMAAM,CAAC,GAAG;QAAC,SAAS;YAAE,SAAS;QAAE;QAAG,SAAS;YAAE,SAAS;QAAE;QAAG,MAAM;YAAE,SAAS;QAAE;QAAG,WAAU;;0BAC5F,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,SAAQ;wBAAc,WAAU;;0CAEnC,8OAAC;gCAAK,GAAE;gCAAiC,MAAK;gCAAO,QAAO;gCAAyB,aAAY;gCAAK,eAAc;;;;;;0CAEpH,8OAAC,oMAAM,CAAC,IAAI;gCACV,GAAE;gCACF,MAAK;gCACL,QAAO;gCACP,aAAY;gCACZ,eAAc;gCACd,iBAAiB;gCACjB,SAAS;oCAAE,kBAAkB;gCAAW;gCACxC,YAAY;oCAAE,UAAU;oCAAK,MAAM;gCAAS;gCAC5C,OAAO;oCAAE,QAAQ;gCAA8C;;;;;;0CAEjE,8OAAC;0CACC,cAAA,8OAAC;oCAAe,IAAG;oCAAe,IAAG;oCAAK,IAAG;oCAAK,IAAG;oCAAO,IAAG;;sDAC7D,8OAAC;4CAAK,QAAO;4CAAK,WAAU;;;;;;sDAC5B,8OAAC;4CAAK,QAAO;4CAAO,WAAU;;;;;;;;;;;;;;;;;;;;;;;kCAKpC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,oMAAM,CAAC,GAAG;gCAAC,SAAS;oCAAE,OAAO;wCAAC;wCAAG;wCAAK;qCAAE;gCAAC;gCAAG,YAAY;oCAAE,QAAQ;oCAAU,UAAU;gCAAE;0CACvF,cAAA,8OAAC,6MAAK;oCAAC,WAAU;;;;;;;;;;;0CAEnB,8OAAC;gCAAI,WAAU;;oCACZ;kDACD,8OAAC;wCAAK,WAAU;kDAAwB;;;;;;;;;;;;0CAE1C,8OAAC;gCAAK,WAAU;0CAAmE;;;;;;;;;;;;;;;;;;0BAKvF,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,oMAAM,CAAC,GAAG;oBAAC,WAAU;oBAAmD,SAAS;wBAAE,OAAO,GAAG,SAAS,CAAC,CAAC;oBAAC;;;;;;;;;;;;;;;;;AAIlH;AAEA,6BAA6B;AAC7B,MAAM,iBAAiB,CAAC,EAAE,UAAU,EAA8B;IAChE,MAAM,OAAO;IACb,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,IAAA,kNAAS,EAAC;QACR,IAAI;QACJ,IAAI,CAAC,cAAc,kBAAkB,MAAM;YACzC,QAAQ,WAAW;gBACjB,iBAAiB,KAAK,KAAK,CAAC,GAAG,cAAc,MAAM,GAAG;YACxD,GAAG;QACL,OAAO,IAAI,CAAC,cAAc,kBAAkB,MAAM;YAChD,QAAQ,WAAW,IAAM,cAAc,OAAO;QAChD,OAAO,IAAI,cAAc,kBAAkB,IAAI;YAC7C,QAAQ,WAAW;gBACjB,iBAAiB,KAAK,KAAK,CAAC,GAAG,cAAc,MAAM,GAAG;YACxD,GAAG;QACL,OAAO,IAAI,cAAc,kBAAkB,IAAI;YAC7C;QACF;QACA,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;QAAe;QAAY;QAAY;KAAK;IAEhD,qBACE,8OAAC,oMAAM,CAAC,GAAG;QAAC,SAAS;YAAE,SAAS;QAAE;QAAG,SAAS;YAAE,SAAS;QAAE;QAAG,MAAM;YAAE,SAAS;YAAG,QAAQ;QAAa;QAAG,WAAU;kBAClH,cAAA,8OAAC;YAAG,WAAU;;gBACX;8BACD,8OAAC,oMAAM,CAAC,IAAI;oBAAC,SAAS;wBAAE,SAAS;4BAAC;4BAAG;4BAAG;yBAAE;oBAAC;oBAAG,YAAY;wBAAE,QAAQ;wBAAU,UAAU;oBAAI;oBAAG,WAAU;;;;;;;;;;;;;;;;;AAIjH;AAEe,SAAS,gBAAgB,EAAE,cAAc,EAAkC;IACxF,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IAEjC,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;;;;;0BACf,8OAAC;gBAAI,WAAU;;;;;;0BAEf,8OAAC;;;;;0BAED,8OAAC,4MAAe;gBAAC,MAAK;;oBACnB,SAAS,mBAAK,8OAAC;wBAAyB,YAAY,IAAM,QAAQ;uBAAlC;;;;;oBAChC,SAAS,mBAAK,8OAAC;wBAA0B,YAAY,IAAM,QAAQ;uBAAlC;;;;;oBACjC,SAAS,mBAAK,8OAAC;wBAA0B,YAAY,IAAM,QAAQ;uBAAlC;;;;;oBACjC,SAAS,mBAAK,8OAAC;wBAA2B,YAAY,IAAM;uBAA1B;;;;;;;;;;;0BAIrC,8OAAC;gBAAI,WAAU;;;;;;0BACf,8OAAC;gBAAI,WAAU;;;;;;;;;;;;AAGrB"}},
    {"offset": {"line": 1862, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/pc/Desktop/Valentine-Days-main/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport DomeGallery from '@/components/DomeGallery';\nimport InteractionFlow from '@/components/InteractionFlow';\n\nexport default function Home() {\n  const [showGallery, setShowGallery] = useState(false);\n\n  const userImages = [\n    '/1.jpeg',\n    '/2.jpeg',\n    '/3.jpeg',\n    '/4.jpeg',\n    '/5.jpeg',\n    '/6.jpeg',\n    '/7.jpeg',\n    '/8.jpeg',\n    '/9.jpeg',\n    '/10.jpeg',\n    '/11.jpeg',\n    '/12.jpeg',\n    '/13.jpeg',\n    '/14.jpeg',\n    '/15.jpeg',\n  ];\n\n  return (\n    <main className=\"w-screen h-screen bg-[#060010]\">\n      {!showGallery ? (\n        <InteractionFlow onFlowComplete={() => setShowGallery(true)} />\n      ) : (\n        <>\n          <audio src=\"/pretty.mp3\" autoPlay loop className=\"hidden\" />\n          <DomeGallery\n            images={userImages}\n            fit={0.8}\n            minRadius={600}\n            maxVerticalRotationDeg={0}\n            segments={34}\n            dragDampening={2}\n            grayscale={false}\n            autoRotationSpeed={0.1}\n          />\n        </>\n      )}\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,MAAM,aAAa;QACjB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,qBACE,8OAAC;QAAK,WAAU;kBACb,CAAC,4BACA,8OAAC,yIAAe;YAAC,gBAAgB,IAAM,eAAe;;;;;iCAEtD;;8BACE,8OAAC;oBAAM,KAAI;oBAAc,QAAQ;oBAAC,IAAI;oBAAC,WAAU;;;;;;8BACjD,8OAAC,qIAAW;oBACV,QAAQ;oBACR,KAAK;oBACL,WAAW;oBACX,wBAAwB;oBACxB,UAAU;oBACV,eAAe;oBACf,WAAW;oBACX,mBAAmB;;;;;;;;;;;;;AAM/B"}}]
}